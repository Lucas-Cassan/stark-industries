{% extends 'base.html.twig' %}

{% block title %}Documents | Stark Industries{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset("build/contratlisting_style.css") }}">
{% endblock %}
{% block body %}
    <div class="bg-gray-100 p-6 relative md:ml-64 min-h-screen overflow-x-hidden">
        <h1 class="order-1 text-gray-900 text-3xl font-extrabold tracking-tight">Mes documents</h1>
            {% if documents is not empty %}
            <div id="documents-list" class="grid grid-cols-1 gap-6 mt-12">
                <div class="search-forms w-full grid grid-cols-1 grid-rows-2">
                    <!-- class="sort" automagically makes an element a sort buttons. The date-sort value decides what to sort by. -->
                    <div class="row-start-2 grid grid-cols-1 grid-rows-2">
                        <p class="row-start-1">Trier par :</p>
                        <div class="row-start-2 flex justify-between md:justify-start">
                            <button class="sort py-2 px-4 md:mr-5 border border-transparent text-sm font-bold rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500" data-sort="document">Contrat</button>
                            <button class="sort py-2 px-4 md:mr-5 border border-transparent text-sm font-bold rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500" data-sort="list-status">Statut</button>
                            <button class="sort py-2 px-4 md:mr-5 border border-transparent text-sm font-bold rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500" data-sort="list-datecontrat">Date</button>
                            <button class="sort py-2 px-4 md:mr-5 border border-transparent text-sm font-bold rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500" data-sort="list-nom">Nom</button>
                        </div>
                    </div>
                    <input class="search row-start-1 phone w-full py-2 px-3 placeholder-gray-500 rounded-md border border-solid border-gray-300 focus:border-yellow-600 outline-none my-3" placeholder="Rechercher un contrat" /><br>

                    <ul class="list w-full flex flex-wrap justify-around">
                    {% for document in documents %}
                        <li>
                            <div class="document">
                                {{ document.getName() }}
                            </div>
                        </li>
                    {% endfor %}
                </ul>
                <ul class="pagination"></ul>
            </div>
            {% else %}
                <div class="justify-center flex-col items-center flex mt-80">
                    <i class="fas fa-file-signature fa-7x mb-4 text-yellow-500"></i>
                    <h2 class="text-center text-gray-900 font-bold text-2xl">Aucun document disponible</h2>
                </div>
            {% endif %}
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js"></script>
    <script>
        var options = {
            valueNames:[
              'document'
            ],
            page: 15,
            pagination: true
        };
        var contratsList = new List('documents-list', options);
        pagination()
       function pagination(){
           let linkPage = document.querySelectorAll('.page')
           linkPage.forEach((page)=>{
               page.setAttribute('class', 'page py-2 px-4 mx-2 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500')
           })

           let linkPageActive = document.querySelectorAll('.active.page')
           linkPageActive.forEach((pageActive)=>{
               pageActive.setAttribute('class', 'active.page bg-yellow-500')
           })
       }
    </script>
{% endblock %}
